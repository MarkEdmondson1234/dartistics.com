<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>ggplot2</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DARTISTICS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="example1.html">Example: Trending</a>
    </li>
    <li>
      <a href="example2.html">Example: Data Explorer</a>
    </li>
    <li>
      <a href="example3.html">Example: Venn Diagram</a>
    </li>
    <li>
      <a href="example4.html">Example: GA Effect</a>
    </li>
    <li>
      <a href="example5.html">Example: Heatmap</a>
    </li>
    <li>
      <a href="example6.html">Example: Forecasting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R Programming
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">THE BASICS</li>
    <li>
      <a href="whatisr.html">What Is R?</a>
    </li>
    <li>
      <a href="gettingstarted.html">Getting Started</a>
    </li>
    <li>
      <a href="packages.html">Packages</a>
    </li>
    <li>
      <a href="basics-base_r.html">Basics of Base R</a>
    </li>
    <li>
      <a href="exercise1-thebasics.html">Exercise: The Basic Basics</a>
    </li>
    <li class="dropdown-header">ADVANCED TOPICS</li>
    <li>
      <a href="troubleshooting.html">Troubleshooting</a>
    </li>
    <li>
      <a href="fast-r-code.html">Faster R code</a>
    </li>
    <li>
      <a href="functions.html">Using R functions</a>
    </li>
    <li>
      <a href="creating-packages.html">Creating R packages</a>
    </li>
    <li>
      <a href="cloud-computing.html">Cloud computing &amp; R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    I/O
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">WORKING WITH FILES</li>
    <li>
      <a href="import-csv-excel.html">CSV import</a>
    </li>
    <li>
      <a href="excel.html">Microsoft Excel(!)</a>
    </li>
    <li>
      <a href="exercise2-io.html">Exercise: I/O</a>
    </li>
    <li class="dropdown-header">WORKING WITH APIs</li>
    <li>
      <a href="api-google-analytics.html">Google Analytics</a>
    </li>
    <li>
      <a href="api-adobe-analytics.html">Adobe Analytics</a>
    </li>
    <li>
      <a href="api-other.html">Other APIs</a>
    </li>
    <li>
      <a href="renviron.html">.Renviron</a>
    </li>
    <li>
      <a href="creating-apis.html">Creating API libraries</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data Structures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">R CLASSES AND SYNTAX</li>
    <li>
      <a href="classes.html">R Classes</a>
    </li>
    <li>
      <a href="accessing.html">Accessing elements</a>
    </li>
    <li>
      <a href="learn-to-love-lists.html">Learning to love lists</a>
    </li>
    <li>
      <a href="exercise3-accessing-data.html">Exercise: Accessing Data</a>
    </li>
    <li class="dropdown-header">BASE R vs. TIDY</li>
    <li>
      <a href="tidyverse.html">Tidy data / Tidyverse</a>
    </li>
    <li>
      <a href="dplyr.html">dplyr()</a>
    </li>
    <li>
      <a href="exercise4-tidy-dplyr.html">Exercise: Tidy Data / dplyr</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="modelling-intro.html">Introduction</a>
    </li>
    <li>
      <a href="nature-of-data.html">Nature of Data</a>
    </li>
    <li>
      <a href="cross-tab-w-chi-square.html">Chi Square</a>
    </li>
    <li>
      <a href="anova.html">ANOVA</a>
    </li>
    <li>
      <a href="correlation.html">Correlation</a>
    </li>
    <li>
      <a href="regression.html">Regression</a>
    </li>
    <li>
      <a href="timeseries.html">Time-series</a>
    </li>
    <li>
      <a href="categorisation.html">Categorisation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Output
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="viz-options.html">Visualisation Options</a>
    </li>
    <li>
      <a href="base-plots.html">Base Plots</a>
    </li>
    <li>
      <a href="ggplot2.html">ggplot2()</a>
    </li>
    <li>
      <a href="htmlwidgets.html">htmlwidgets()</a>
    </li>
    <li>
      <a href="rmarkdown-shiny.html">RMarkdown or Shiny?</a>
    </li>
    <li>
      <a href="basic-rmarkdown.html">Basic RMarkdown</a>
    </li>
    <li>
      <a href="advanced-rmarkdown.html">Advanced RMarkdown</a>
    </li>
    <li>
      <a href="shiny.html">Shiny</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resources.html">Useful Links</a>
    </li>
    <li>
      <a href="key-topics.html">Key topics</a>
    </li>
    <li>
      <a href="github.html">GitHub</a>
    </li>
    <li>
      <a href="habits.html">Good Habits</a>
    </li>
    <li>
      <a href="going-further.html">Going Further</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N4DF7T"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N4DF7T');</script>
<!-- End Google Tag Manager -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">ggplot2</h1>

</div>


<p><code>ggplot2</code> is one of the most downloaded R packages and probably the one that brought Hadley Wickham to fame.</p>
<p>The “grammar of graphics” philosophy it supports not only lets you create professional looking plots, but once you have mastered its syntax should encourage you to think about plots in a more structured manner too.</p>
<p>The syntax does take time to master though, so do take time to check out the <a href="http://ggplot2.tidyverse.org/reference/index.html">ggplot2 website</a> and the <a href="http://www.cookbook-r.com/Graphs/">ggplot2 cookbook</a> which will walk you through common tasks. The author still refers to these!</p>
<div id="the-mindset-for-building-a-plot" class="section level2">
<h2>The Mindset for “Building” a Plot</h2>
<p>While there are lots of ways to head down into the weeds, the <em>core</em> of building a ggplot is the following:</p>
<ol style="list-style-type: decimal">
<li><p>Call the <code>ggplot()</code> function. Primarily, this just indicates what data set will be plotted (using the <code>data=</code> parameter). And, when possible and when it makes sense, doing some light mapping of that data to core aspects of the plot (using <code>mapping = aes()</code>). Note that you can pass the function more data than you’re actually going to plot, and you can override aspects of both <code>data</code> and <code>mapping</code> in subsequent steps.</p></li>
<li><p><em>Add</em> (we actually use the <code>+</code> sign) one <em>or more</em> <code>geom</code> functions, which lays out the type of visualization you want. The image lower on this page shows an extensive list of these. One way to think about it is to consider a chart where you want a line for one set of data and a bar for another set of data (a not-too-uncommon thing to do in Excel). This would use a <code>geom_bar()</code> geom and a <code>geom_line()</code> geom. The data <em>set</em> that will be plotted is already specified (in the <code>data=</code> parameter of <code>ggplot()</code>), but we still <em>may</em> need to do some additional <em>mapping</em> within the geom. For instance, if the <code>data=</code> parameter was time-series data that included users, sessions, and pageviews, the <code>mapping=aes()</code> within the <code>geom_line()</code> function would need to specify which of the metrics to plot on the y axis (e.g., <code>geom_line(mapping = aes(y = sessions)))</code>.</p></li>
<li><p>Optionally (but often needed), <em>add</em> (again, with the plus sign) “theme” specifications. These are used to tweak the styles: how thick of a line around the plot, whether to include major and/or minor x and or y gridlines (and what color and thickness to make them), where to locate the legend (or not to have a legend at all). Typically, we can start with a <a href="http://ggplot2.tidyverse.org/reference/index.html#section-themes">predefined theme</a> and then just tweak (override) specific elements, similar to how CSS can be loaded from external files and then overridden with styles defined more closely to the specific element being formatted on a web page.</p></li>
</ol>
<p>There are other aspects of <code>ggplot2</code> that we’re not going to get into here. To scratch the surface, though, below is a brief explanation of each of the components of the <code>ggplot2</code> world:</p>
<ul>
<li><em>Data source</em> - its easiest to use a tidy data source in long format</li>
<li><em>Aesthetics</em> - this specifies which variables in your data will vary and be plotted. In many ways, “aesthetics” is a misnomer – you actually control the look and feel of plots using <em>themes</em>. So, if you want a plot that is “aesthetically pleasing,” you will spend more time adjusting the theme applied to the plot – it will have very little to do with the <em>aesthetics</em> (<code>aes()</code>).</li>
<li><em>Coordinate systems</em> - usually you’ll be in x-y, but polar and more exotic systems are possible</li>
<li><em>Scales</em> - How your variables map onto the coordinate system (e.g. a log scale)</li>
<li><em>Statistics</em> - Statistics applied to the data before plotting - most common is binning, such as for histograms, and smoothers such as trend lines</li>
<li><em>Geoms</em> - Geometric objects, the type of plot to produce. Line charts, bar charts, tiled plots etc.</li>
</ul>
<p>Thinking about what you want to produce via the componenets above will get you to your desired plot quicker.</p>
</div>
<div id="which-geom-to-use" class="section level2">
<h2>Which geom…() to Use?</h2>
<p>A great resource is the <a href="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf">ggplot2 cheatsheet</a> which groups geoms by the type of data you have. The first page of this cheatsheet is below, and you can always get to it from RStudio by selecting <strong>Help&gt;&gt;Cheatsheets&gt;&gt;Data Visualization with ggplot2</strong>.</p>
<div class="figure">
<img src="images/ggplot2_geoms.png" />

</div>
</div>
<div id="example-workflow" class="section level2">
<h2>Example Workflow</h2>
<p><em>This example requires having a <code>web_data</code> data frame. You can either load up some sample data by completing the <a href="exercise2-io.html">I/O Exercise</a> (which is what is shown in the details below), or, if you have access to a Google Analytics account, you can use your own data by following the steps on the <a href="api-google-analytics.html">Google Analytics API page</a>.</em></p>
<p>Once you have a <code>web_data</code> data frame to work with, the command <code>head(web_data)</code> should return a table that, at least structurally, looks something like this:</p>
<pre class="r"><code>kable(head(web_data))</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">X</th>
<th align="left">date</th>
<th align="left">channelGrouping</th>
<th align="left">deviceCategory</th>
<th align="right">sessions</th>
<th align="right">pageviews</th>
<th align="right">entrances</th>
<th align="right">bounces</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">2016-01-01</td>
<td align="left">(Other)</td>
<td align="left">desktop</td>
<td align="right">19</td>
<td align="right">23</td>
<td align="right">19</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">2016-01-01</td>
<td align="left">(Other)</td>
<td align="left">mobile</td>
<td align="right">112</td>
<td align="right">162</td>
<td align="right">112</td>
<td align="right">82</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">2016-01-01</td>
<td align="left">(Other)</td>
<td align="left">tablet</td>
<td align="right">24</td>
<td align="right">41</td>
<td align="right">24</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">2016-01-01</td>
<td align="left">Direct</td>
<td align="left">desktop</td>
<td align="right">133</td>
<td align="right">423</td>
<td align="right">133</td>
<td align="right">61</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">2016-01-01</td>
<td align="left">Direct</td>
<td align="left">mobile</td>
<td align="right">345</td>
<td align="right">878</td>
<td align="right">344</td>
<td align="right">172</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">2016-01-01</td>
<td align="left">Direct</td>
<td align="left">tablet</td>
<td align="right">126</td>
<td align="right">237</td>
<td align="right">126</td>
<td align="right">77</td>
</tr>
</tbody>
</table>
<p>Now, we can get to visualizing!</p>
<div id="get-the-data-ready-and-tidy" class="section level3">
<h3>1. Get the Data Ready and Tidy</h3>
<p>While it’s possible to use “wide” data, it’s generally easiest to always <em>start</em> with tidy “long” data, so you can quickly repeat what you have learned/applied before.</p>
<pre class="r"><code>## We can use the newer tidyr() package the gather() function to tidy up the data
library(tidyr)

## call the key column &#39;variable&#39; and the value colum &#39;value&#39; and 
## gather all variables apart from date, channelGrouping and deviceCategory
web_data_tidy &lt;- web_data %&gt;% gather(variable, value, -date, -channelGrouping, -deviceCategory)
head(web_data_tidy)</code></pre>
<pre><code>##         date channelGrouping deviceCategory variable value
## 1 2016-01-01         (Other)        desktop        X     1
## 2 2016-01-01         (Other)         mobile        X     2
## 3 2016-01-01         (Other)         tablet        X     3
## 4 2016-01-01          Direct        desktop        X     4
## 5 2016-01-01          Direct         mobile        X     5
## 6 2016-01-01          Direct         tablet        X     6</code></pre>
</div>
<div id="make-sure-all-of-the-columns-are-the-right-class" class="section level3">
<h3>2. Make Sure All of the Columns are the Right Class</h3>
<p>In this case, we’re going to make the date column a <code>Date</code> object.</p>
<p>You could also choose to make factors out of your categories, as they let you set the order of colours in the legends a bit easier.</p>
<p><strong>Note</strong>: Outside of applying statistical methods, converting columns to be factors will often come into play when you want to control the order of nominal or ordinal variables. This gets a little confusing, in that there are “unordered” factors and “ordered” factors, and you do <em>not</em> actually need an ordered factor to contro the order in a plot (!). We’re not going to dive into this here, as that’s heading down into the weeds a bit. But, make a mental note that order <em>can</em> be controlled when using nonmetric variables. And it’s a quick Google search to get the specifics.</p>
<pre class="r"><code>str(web_data_tidy)</code></pre>
<pre><code>## &#39;data.frame&#39;:    28660 obs. of  5 variables:
##  $ date           : chr  &quot;2016-01-01&quot; &quot;2016-01-01&quot; &quot;2016-01-01&quot; &quot;2016-01-01&quot; ...
##  $ channelGrouping: chr  &quot;(Other)&quot; &quot;(Other)&quot; &quot;(Other)&quot; &quot;Direct&quot; ...
##  $ deviceCategory : chr  &quot;desktop&quot; &quot;mobile&quot; &quot;tablet&quot; &quot;desktop&quot; ...
##  $ variable       : chr  &quot;X&quot; &quot;X&quot; &quot;X&quot; &quot;X&quot; ...
##  $ value          : int  1 2 3 4 5 6 7 8 9 10 ...</code></pre>
<pre class="r"><code>web_data_tidy$date &lt;- as.Date(web_data_tidy$date)

## we will only look at sessions
library(dplyr)
plot_data &lt;- web_data_tidy %&gt;% filter(variable == &quot;sessions&quot;)</code></pre>
</div>
<div id="create-a-plot-object-called-gg" class="section level3">
<h3>3. Create a Plot Object Called <code>gg</code></h3>
<p>We can use the <code>ggplot()</code> function to create a plot that we’re going to call <code>gg</code>. This call includes your data and any known aesthetics (mappings) that you want to apply to all of the plots that you will layer in. We can also go ahead and set the basic theme here. <code>theme_minimal()</code> is a nice, clean one to start with.</p>
<p>As we have made “long” tidy data, we know that our x variable will be <code>date</code>, but also our y variable will be in the <code>value</code> column, so we can set these as defaults in the <code>aes()</code> (aesthetics) call:</p>
<pre class="r"><code>library(ggplot2)
## I don&#39;t know why, but I always call them gg
gg &lt;- ggplot(data = plot_data, aes(x = date, y = value)) + theme_minimal()</code></pre>
</div>
<div id="let-the-fun-begin" class="section level3">
<h3>Let the Fun Begin!</h3>
<p>Experiment with adding various elements to your <code>gg</code> object using <code>+</code>. Once you have found something you want to keep, assign it to <code>gg</code> and then carry on to the next feature.</p>
<p>Any aesthetics or statistics you haven’t specified in the global line, you will need to add in the <code>geom</code> you are adding. Note that because we have put the data in the first line, we don’t need to specify it again.</p>
<pre class="r"><code>## let&#39;s make some line plots
gg + geom_line()</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-1.png" width="960" /></p>
<pre class="r"><code>## hmm, too much data in there, let&#39;s colour by the channelGroupings
gg + geom_line(aes(colour = channelGrouping))</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-2.png" width="960" /></p>
<pre class="r"><code>## we have desktop, mobile and tablet all in there, let&#39;s seperate them out with facet
gg + geom_line(aes(colour = channelGrouping)) + facet_grid(. ~ deviceCategory)</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-3.png" width="960" /></p>
<pre class="r"><code>## I prefer it one over the other
gg + geom_line(aes(colour = channelGrouping)) + facet_grid(deviceCategory ~ .)</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-4.png" width="960" /></p>
<pre class="r"><code>## let&#39;s try an area plot
gg + geom_area(aes(colour = channelGrouping, group = channelGrouping)) + facet_grid(deviceCategory ~ .)</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-5.png" width="960" /></p>
<pre class="r"><code>## ahh, area plots colour by scale &#39;fill&#39; rather than scale &#39;colour&#39; (see ?geom_area)
gg + geom_area(aes(fill = channelGrouping, group = channelGrouping)) + facet_grid(deviceCategory ~ .)</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-4-6.png" width="960" /></p>
<pre class="r"><code>## ok, let&#39;s keep that for now
gg &lt;- gg + geom_area(aes(group = channelGrouping, fill = channelGrouping)) + facet_grid(deviceCategory ~ .)</code></pre>
<p>The point above is to show how modifications can be quickly added as you try out ideas.</p>
<p>A little more styling, and we are done with this example:</p>
<pre class="r"><code>## make the colours nicer
gg &lt;- gg + scale_fill_brewer(palette = &quot;Blues&quot;)
## add a title
gg &lt;- gg + ggtitle(&quot;Sessions per device category&quot;)
## rename the x and y axis
gg &lt;- gg + xlab(&quot;Date&quot;) + ylab(&quot;Sessions&quot;)
## change the legend title
gg &lt;- gg + guides(fill = guide_legend(title = &quot;Channel Grouping&quot;))
## put the legend at the bottom
gg &lt;- gg + theme(legend.position = &quot;bottom&quot;)
## print the final plot
gg</code></pre>
<p><img src="ggplot2_files/figure-html/unnamed-chunk-5-1.png" width="960" /></p>
<blockquote>
<p>Disclaimer, I don’t think area plots are very clear but they look pretty ;)</p>
</blockquote>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
