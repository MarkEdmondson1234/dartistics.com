<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>ANalysis Of VAriance (ANOVA)</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DARTISTICS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="example1.html">Example: Trending</a>
    </li>
    <li>
      <a href="example2.html">Example: Data Explorer</a>
    </li>
    <li>
      <a href="example3.html">Example: Venn Diagram</a>
    </li>
    <li>
      <a href="example4.html">Example: GA Effect</a>
    </li>
    <li>
      <a href="example5.html">Example: Heatmap</a>
    </li>
    <li>
      <a href="example6.html">Example: Forecasting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    The Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="whatisr.html">What Is R?</a>
    </li>
    <li>
      <a href="gettingstarted.html">Getting Started</a>
    </li>
    <li>
      <a href="packages.html">Packages</a>
    </li>
    <li>
      <a href="basics-base_r.html">Basics of Base R</a>
    </li>
    <li>
      <a href="exercise1-thebasics.html">Exercise: The Basic Basics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    I/O
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">WORKING WITH FILES</li>
    <li>
      <a href="import-csv-excel.html">CSV import</a>
    </li>
    <li>
      <a href="excel.html">Microsoft Excel(!)</a>
    </li>
    <li>
      <a href="exercise2-io.html">Exercise: I/O</a>
    </li>
    <li class="dropdown-header">WORKING WITH APIs</li>
    <li>
      <a href="api-google-analytics.html">Google Analytics</a>
    </li>
    <li>
      <a href="api-adobe-analytics.html">Adobe Analytics</a>
    </li>
    <li>
      <a href="api-other.html">Other APIs</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data Structures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">R CLASSES AND SYNTAX</li>
    <li>
      <a href="classes.html">R Classes</a>
    </li>
    <li>
      <a href="accessing.html">Accessing elements</a>
    </li>
    <li>
      <a href="exercise3-accessing-data.html">Exercise: Accessing Data</a>
    </li>
    <li class="dropdown-header">BASE R vs. TIDY</li>
    <li>
      <a href="tidyverse.html">Tidy data / Tidyverse</a>
    </li>
    <li>
      <a href="dplyr.html">dplyr()</a>
    </li>
    <li>
      <a href="exercise4-tidy-dplyr.html">Exercise: Tidy Data / dplyr</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="modelling-intro.html">Introduction</a>
    </li>
    <li>
      <a href="nature-of-data.html">Nature of Data</a>
    </li>
    <li>
      <a href="cross-tab-w-chi-square.html">Chi Square</a>
    </li>
    <li>
      <a href="anova.html">ANOVA</a>
    </li>
    <li>
      <a href="correlation.html">Correlation</a>
    </li>
    <li>
      <a href="regression.html">Regression</a>
    </li>
    <li>
      <a href="timeseries.html">Time-series</a>
    </li>
    <li>
      <a href="categorisation.html">Categorisation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Output
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="viz-options.html">Visualisation Options</a>
    </li>
    <li>
      <a href="base-plots.html">Base Plots</a>
    </li>
    <li>
      <a href="ggplot2.html">ggplot2()</a>
    </li>
    <li>
      <a href="htmlwidgets.html">htmlwidgets()</a>
    </li>
    <li>
      <a href="rmarkdown-shiny.html">RMarkdown + Shiny</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resources.html">Useful Links</a>
    </li>
    <li>
      <a href="key-topics.html">Key topics</a>
    </li>
    <li>
      <a href="github.html">GitHub</a>
    </li>
    <li>
      <a href="habits.html">Good Habits</a>
    </li>
    <li>
      <a href="going-further.html">Going Further</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N4DF7T"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N4DF7T');</script>
<!-- End Google Tag Manager -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">ANalysis Of VAriance (ANOVA)</h1>

</div>


<div id="a-brief-review" class="section level2">
<h2>A Brief Review</h2>
<p>Earlier, we covered the <a href="nature-of-data.html">nature of data</a> and <a href="cross-tab-w-chi-square.html">cross tabulations with a <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence</a>. Nominal and ordinal data are referred to as <em>nonmetric data</em>. When data is “nonmetric,” it means we cannot perform arithmetic operations such as addition, subtraction, multiplication, and division with it. And, if we can’t do arithmetic operations, we cannot calculate mean, standard deviation, skewness, and kurtosis. But, as we saw, we can still apply statistics to nonmetric data. We just need to use nonparametric analytical tools such as <a href="cross-tab-w-chi-square.html">cross tabulations with a <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence</a> for nominal data and Spearman’s Rank Rho for ordinal data. (Alas! We do not yet have content for the latter, but you still have the internet, so, with luck, that is not a complete showstopper for you.)</p>
<p><em>Metric data</em>, on the other hand, is data on which we <em>can</em> perform arithmetic operations such as addition, subtraction, multiplication, and division. And, hence, we can calculate mean, standard deviation, skewness, and kurtosis. To analyze metric data, we use “parametric analytical tools” such as ANOVA, correlation, and regression.</p>
</div>
<div id="enter-anova" class="section level2">
<h2>Enter ANOVA</h2>
<p>Recall that, with a <a href="cross-tab-w-chi-square.html">cross tabulations with a <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence</a>, we are testing an association of two variables, and we rely on the <em>frequency between the cells</em> to do that.</p>
<p>If we want to measure the <em>differences</em> in those levels, then we need to use ANOVA. To apply ANOVA, we need two items:</p>
<ul>
<li>At least one <strong>independent variable</strong> that is <em>nominal in nature</em> and has <em>at least two levels</em>, and</li>
<li><em>Only one</em> <strong>dependent variable</strong> that must be <em>interval</em> or <em>ratio</em> in nature.</li>
</ul>
<p>If we have one independent variable, then we apply a <strong>1-way ANOVA</strong>. If we have two (or more) independent variables, then we can apply an <strong><em>n</em>-way ANOVA.</strong> If we have collected observations of the dependent variable several times, then we apply the <strong>repeated measures ANOVA</strong>.</p>
<p>Consider the question: “Does the number of visits depend on device type?” This turns out to call for a 1-way ANOVA.</p>
<p>Note that we are no longer merely asking if there is a <em>relationship</em> between these two variables. But, rather, we are looking for <em>dependence</em>. Let’s check that we have what we need to apply ANOVA:</p>
<ul>
<li><strong>At least one independent variable</strong> – The device type serves as the independent variable, it’s nominal in nature because:</li>
<li>Order does not matter (Laptop/Desktop, Tablet, Phone vs. Phone, Tablet, Laptop/Desktop)</li>
<li>There is no “distance” between observations</li>
<li>There is no “true zero”</li>
<li><strong>Only one dependent variable</strong> – the number of visits serves as the dependent variable, and it is ratio in nature:</li>
<li>Order <em>does</em> matter</li>
<li>There <em>is</em> distance between observations</li>
<li>It includes a “true zero”</li>
</ul>
<p>The levels for our independent variable, in this example, include “laptop/desktop,” “mobile,” and “tablet.” Hence, the independent variable, device type, includes three levels.</p>
<p><strong>A Quick Aside:</strong> <em>Up to this point, in our R journey, we’ve treated “factors” as something of a nuisance that, if not converted to character vectors, can cause odd and frustrating results. Read up more on that <a href="classes.html#factor">here</a>. But, hopefully as you get into the content here and beyond, you will start to see how factors – and how many levels a factor has – start to become important. Now, back to our 1-way ANOVA…</em></p>
<p>The hypothesis (“null hypothesis” or <span class="math inline">\(H_0\)</span>), in this example, would be that means (or averages) between levels equals zero. That is: there is no difference between levels.</p>
<p>In the cross tabulations with a <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence, the hypothesis was, “there is no relationship between the two variables.”</p>
<p>The ANOVA hypothesis is similar to the <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence hypothesis because both are about “no relationships.”&quot; The ANOVA hypothesis is <em>dissimilar</em> to the <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence hypothesis, though, because the ANOVA includes an arithmetic value (i.e., the means are equal to zero).</p>
</div>
<div id="way-anova" class="section level2">
<h2>1-Way ANOVA</h2>
<p>A one way ANOVA with one independent variable and only two levels will generate the same results as an independent t-test (which, mysteriously, we’re not going to define here; perhaps, some day, we will come back to that). Instead of looking at the t-test though, we will look at the F ratio.</p>
<p>Recall that we started with an <em>expected value</em>. We then took an observation. The distance between the <em>expected value</em> and the <em>observed value</em> is called the error. The relevant and necessary question becomes: “Is this error attributable to laptop/desktop, mobile, and tablet (i.e., within the group) or to device type (i.e., between the group)?”</p>
<p>That is, “Is this error <em>within</em> the variables or <em>between</em> the variable?”</p>
<p><span class="math inline">\(MS_w\)</span> or <span class="math inline">\(MS_e\)</span> is the mean square error within the variables. In this example, <span class="math inline">\(MS_w\)</span> or <span class="math inline">\(MS_e\)</span> refers to error <em>within</em> laptop/desktop, mobile, and tablet.</p>
<p><span class="math inline">\(MS_b\)</span> is the mean square error <em>between</em> the variables. In this example, <span class="math inline">\(MS_b\)</span> refers to error in the device type.</p>
<p>So, hold onto your socks for a minute while we drop some formulas.</p>
<p>Ultimately, we want to get an “F ratio,” which, similarly to how we compared the actual <span class="math inline">\(\chi\)</span><sup>2</sup> to the critical <span class="math inline">\(\chi\)</span><sup>2</sup>, we will compare to a table of F distribution values with a select <span class="math inline">\(\alpha\)</span> level.</p>
<p>“Simply” put, the F ratio is: <span class="math display">\[F = \frac{MS_b}{MS_e}\]</span></p>
<p>Of course, we have to actually figure out what <span class="math inline">\(MS_b\)</span>_ and <span class="math inline">\(MS_w\)</span> are, which requires breaking things down a bit:</p>
<p><span class="math display">\[MS_b + MS_e = Total~Error\]</span></p>
<p><span class="math display">\[MS_e~(or~MS_w~) = \frac{SS_e~(or~SS_w)}{N-K}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(SS_e\)</span> (or <span class="math inline">\(SS_w\)</span>) is the Sum of Squares error within</li>
<li><span class="math inline">\(N\)</span> is the number of groups</li>
<li><span class="math inline">\(K\)</span> is the number of levels.</li>
</ul>
<p><span class="math inline">\(N - K\)</span> is the degrees of freedom (or “d.f.”) for the within effect.</p>
<p>And:</p>
<p><span class="math display">\[MS_b = \frac{SS_b}{K-1}\]</span> where <span class="math inline">\(K-1\)</span> is the d.f. for the “between effect” and <span class="math inline">\(SS_b\)</span> is the Sum of Square error between.</p>
<p>The relationship between <span class="math inline">\(SS\)</span> and <span class="math inline">\(MS\)</span> is the d.f.</p>
<p><span class="math inline">\(N - K\)</span> allows us to control for how many groups we are using.</p>
<p><em><whew></em> Still following?</p>
<p>Once we have our observed F ratio, we can look up the critical value for the F ratio <a href="http://www.socr.ucla.edu/Applets.dir/F_Table.html">in a table</a>. Note that you will need the d.f. for both <em>MS~b</em> and for <em>MS~e</em> (and, once again, you will have to choose your <span class="math inline">\(\alpha\)</span> level). (You can also use the “quantile function” – <code>qf()</code> in base R to get the critical value).</p>
<p>A 1-way ANOVA is appropriate if we want to segment on one variable such as device type or last touch channel.</p>
</div>
<div id="the-rejection-region" class="section level2">
<h2>The Rejection Region</h2>
<p>The rejection region is important. Nobody likes rejection…! Except, in statistics, we actually do. A key point, that we’ll want to keep reiterating:</p>
<ul>
<li>The <em>null hypothesis</em> (<span class="math inline">\(H_0\)</span>) is, essentially: “there’s nothing to see here.”</li>
<li>When we <em>reject</em> <span class="math inline">\(H_0\)</span>, that means there actually <em>is</em> some sort of relationship.</li>
</ul>
<p>As such, <span class="math inline">\(\alpha\)</span> is how we lay out how confident we want to be in this double-negative world (rejecting the hypothesis that there is nothing going on). I like 5% or .05 for a two tail test, which means the rejection area will be .05/2 on the left and right of the mean.</p>
<p>I like a two tail test because I do not have to think about negative values. The probability of drawing a -2.5 is just as likely as drawing a 2.5.</p>
<p>If we reject the <span class="math inline">\(H_0\)</span> because the observed value exceeds the critical or cutoff value, then we say the difference is the hypothesis. The means the two distributions are not equal.</p>
<p>For a p-value of less than .05, we reject if the <em>t</em>-value exceeds 1.96.</p>
<p>The <em>t</em>-value is referred to as the critical or cutoff value.</p>
</div>
<div id="example-of-1-way-anova" class="section level2">
<h2>Example of 1-way ANOVA</h2>
<p>Let’s consider three forms of channels, including:</p>
<ol style="list-style-type: decimal">
<li>Desktop/Laptop</li>
<li>Mobile</li>
<li>Tablet</li>
</ol>
<p>Also, let’s consider the number of goal completions during a five-day period. Table 1 provides a display of the relationship.</p>
<div style="text-align: center;">
<strong>Table 1: Number of Goal Completions by Channel</strong>
</div>
<table>
<thead>
<tr class="header">
<th align="center">Desktop/Laptop</th>
<th align="center">Mobile</th>
<th align="center">Tablet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">5</td>
<td align="center">4</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">3</td>
<td align="center">5</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">4</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">3</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">3</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<div id="calculate-the-mean-for-each-channel" class="section level3">
<h3>1. Calculate the Mean for Each Channel</h3>
<p>The averages for each channel are:</p>
<ul>
<li>Desktop/Laptop (mean 1) = 4.2</li>
<li>Mobile (mean 2) = 3.8</li>
<li>Table (mean 3) = 2.4</li>
</ul>
</div>
<div id="calculate-the-mean-for-all-three-channels-combined" class="section level3">
<h3>2. Calculate the Mean for All Three Channels Combined</h3>
<p>This is called the “grand mean.”&quot; The sum for the three channels is 52 and the mean is 3.47.</p>
</div>
<div id="determine-the-sum-of-squares-error-ss_e" class="section level3">
<h3>3. Determine the Sum of Squares Error (<span class="math inline">\(SS_e\)</span>)</h3>
<p>We calculate <span class="math inline">\(SS_e\)</span> by squaring the difference between the observed value and the expected (mean) value:</p>
<div style="text-align: center;">
<strong>Table 2: Squared Error Values</strong>
</div>
<table>
<thead>
<tr class="header">
<th align="center">Desktop/Laptop</th>
<th align="center">Mobile</th>
<th align="center">Tablet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\((5-4.2)^2=0.64\)</span></td>
<td align="center"><span class="math inline">\((4-3.8)^2=0.04\)</span></td>
<td align="center"><span class="math inline">\((4-2.4)^2=2.56\)</span></td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\((3-4.2)^2=1.44\)</span></td>
<td align="center"><span class="math inline">\((5-3.8)^2=1.44\)</span></td>
<td align="center"><span class="math inline">\((2-2.4)^2=0.16\)</span></td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\((4-4.2)^2=0.04\)</span></td>
<td align="center"><span class="math inline">\((4-3.8)^2=0.04\)</span></td>
<td align="center"><span class="math inline">\((3-2.4)^2=0.36\)</span></td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\((5-4.2)^2=0.64\)</span></td>
<td align="center"><span class="math inline">\((3-3.8)^2=0.64\)</span></td>
<td align="center"><span class="math inline">\((1-2.4)^2=1.96\)</span></td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\((4-4.2)^2=0.04\)</span></td>
<td align="center"><span class="math inline">\((3-3.8)^2=0.64\)</span></td>
<td align="center"><span class="math inline">\((2-2.4)^2=0.16\)</span></td>
</tr>
</tbody>
</table>
<p>The sum of each group errors is:</p>
<ul>
<li>Desktop/Laptop (group 1) = 2.8</li>
<li>Mobile (group 2) = 2.8</li>
<li>Tablet (group 3) = 5.2</li>
</ul>
<p>That gets us to the <em>sum</em> of squares errors (<span class="math inline">\(SS_e\)</span>):</p>
<p><span class="math display">\[SS_e = 2.8+2.8+5.2 = 10.8\]</span> ### 4. Determine the Sum of Squares <em>Between</em> Groups (<span class="math inline">\(SS_b\)</span>)</p>
<p>We determine <span class="math inline">\(SS_b\)</span> by subtracting the group mean from the grand mean and squaring the difference before multiplying by the number of observations in each group. Finally, we sum the products.</p>
<div style="text-align: center;">
<strong>Table 3: Squared group error values</strong>
</div>
<table>
<colgroup>
<col width="30%" />
<col width="20%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center"><strong>A</strong><br>——————<br># of Observations</th>
<th align="center"><strong>B</strong><br>————-<br>Grand Mean</th>
<th align="center"><strong>C</strong><br>————-<br>Group Mean</th>
<th align="center"><strong>D</strong><br>———<br>(B-C)<sup>2</sup></th>
<th align="center"><strong>E</strong><br>——-<br>A*D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Group 1 (Desktop/Laptop)</td>
<td align="center">5</td>
<td align="center">3.47</td>
<td align="center">4.2</td>
<td align="center">0.53</td>
<td align="center">2.65</td>
</tr>
<tr class="even">
<td align="left">Group 2 (Mobile)</td>
<td align="center">5</td>
<td align="center">3.47</td>
<td align="center">3.8</td>
<td align="center">0.11</td>
<td align="center">0.55</td>
</tr>
<tr class="odd">
<td align="left">Group 1 (Tablet)</td>
<td align="center">5</td>
<td align="center">3.47</td>
<td align="center">2.4</td>
<td align="center">1.14</td>
<td align="center">5.70</td>
</tr>
</tbody>
</table>
<p>By summing the three values from column E in Table 3, we get the sum of square errors between groups (<span class="math inline">\(SS_b\)</span>):</p>
<p><span class="math display">\[SS_b = 2.65 + 0.55 + 5.70 = 8.90\]</span></p>
</div>
<div id="calculate-the-mean-square-errors-ms_e" class="section level3">
<h3>5. Calculate the Mean Square Errors (<span class="math inline">\(MS_e\)</span>)</h3>
<p>We calculate <span class="math inline">\(ME_e\)</span> by dividing the <span class="math inline">\(SS_e\)</span> by the degrees of freedom. Recall, the degrees of freedom is the number of observations (<span class="math inline">\(N\)</span>) less the number of groups or levels (<span class="math inline">\(K\)</span>). In this example, the degrees of freedom is</p>
<p><span class="math display">\[df = N - K = 15 -3 = 12\]</span> So:</p>
<p><span class="math display">\[MS_e = \frac{SS_e}{df} = \frac{10.8}{12} = 0.9\]</span></p>
</div>
<div id="determine-the-mean-square-between-groups-ms_b" class="section level3">
<h3>6. Determine the Mean Square Between Groups (<span class="math inline">\(MS_b\)</span>)</h3>
<p>We determine <span class="math inline">\(MS_b\)</span> by dividing the sum of square between groups (<span class="math inline">\(SS_b\)</span>) by the degrees of freedom. Here, degrees of freedom is determined by subtracting 1 from the number of groups or levels (<em>K</em>):</p>
<p><span class="math display">\[df = 3 - 1 = 2\]</span></p>
<p>So:</p>
<p><span class="math display">\[MS_b = \frac{SS_e}{df} = \frac{8.9}{2} = 4.45\]</span></p>
</div>
<div id="determine-the-actual-f-value" class="section level3">
<h3>7. Determine the Actual F-value</h3>
<p>(We’re close!) We determine the actual F value by dividing <span class="math inline">\(MS_b\)</span> by <span class="math inline">\(MS_e\)</span>:</p>
<p><span class="math display">\[F = \frac{MS_b}{MS_e} = \frac{4.45}{0.9} = 4.94\]</span></p>
</div>
<div id="look-up-the-critical-f-value" class="section level3">
<h3>8. Look Up the Critical F-value</h3>
<p>We look up (or ask R to look up, using the base R <code>qf()</code> function) the critical F value. The numerator includes 2 degrees of freedom while the denominator includes 12 degrees of freedom. With a rejection region (<span class="math inline">\(\alpha\)</span>) of .05, we can look up that the critical F value is 3.88.</p>
</div>
<div id="compare-the-actual-and-critical-f-values" class="section level3">
<h3>9. Compare the Actual and Critical F-values</h3>
<p>Finally, we compare the actual F value (4.94) to the critical F value (3.88), to determine that we reject the null hypothesis (<span class="math inline">\(H_0\)</span>) that the means of the groups are equal. Therefore, we conclude that the levels or groups are <em>different</em>. In this example, we could, therefore, state that the number of goal completions <em>does</em> differ by channel.</p>
</div>
</div>
<div id="n-way-anova" class="section level2">
<h2>N-way ANOVA</h2>
<p>If we only have <em>one</em> independent variable – as in the example above, then we can use a 1-way ANOVA (um…duh…right?). But, if we want to segment or otherwise consider <em>two</em> (or more) independent variables, then we need the N-way ANOVA. For example, if we want to consider device type <em>and</em> last touch channel on the number of goals completed.</p>
<p>The N-way ANOVA allows the web analysts to consider two issues:</p>
<ol style="list-style-type: decimal">
<li><p>The interaction of two variables. That is, if/how device type and last touch channel work together – referred to as the “interaction effect.”&quot; If the interaction is statistically significant, then the web analyst should not interpret device type and last touch channel separately when using ANOVA. To interpret the interaction effect, we argue for that as device type <em>and</em> last touch channel change, the number of visits changes. If the interaction effect is <em>not</em> statistically significant (i.e., fail to reject <span class="math inline">\(H_0\)</span>), then the web analyst should interpret separately the two independent variables (e.g., device type and last touch channel), which is pretty much two one-way ANOVA.</p></li>
<li>Regardless of whether the interaction effect appears statistically significant, the digital analyst should calculate eta square (<span class="math inline">\(\eta^2\)</span>). <span class="math inline">\(\eta^2\)</span> is calculated by dividing <span class="math inline">\(SS_x\)</span> or <span class="math inline">\(SS_b\)</span> by <span class="math inline">\(SS_y\)</span>.</li>
</ol>
<ul>
<li>0 means <span class="math inline">\(SS_b\)</span> or <span class="math inline">\(SS_x\)</span> has no effect on <span class="math inline">\(SS_y\)</span>.</li>
<li>1 means <span class="math inline">\(SS_b\)</span> or <span class="math inline">\(SS_x\)</span> explains all variance of <span class="math inline">\(SS_y\)</span>.</li>
</ul>
<p>Usually, the <span class="math inline">\(\eta^2\)</span> value falls between 0 and 1. It provides a method to determine the effect of <span class="math inline">\(SS_b\)</span> or <span class="math inline">\(SS_x\)</span> on <span class="math inline">\(SS_y\)</span>.</p>
<p>Let’s consider the following table with last touch channel on the column and device type on the row. The cells contain the number of goals completed (Table 2).</p>
<div style="text-align: center;">
<strong>Table 2: Mean Number of Goals Completed by Device Type and Last Touch Channel</strong>
</div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Organic Search</th>
<th align="center">Paid Search</th>
<th align="center">Email</th>
<th align="center">Display</th>
<th align="center">Overall Averages by<br>Device Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Laptop/Desktop</td>
<td align="center">325</td>
<td align="center">215</td>
<td align="center">225</td>
<td align="center">325</td>
<td align="center"><strong>272.50</strong></td>
</tr>
<tr class="even">
<td align="left">Tablet</td>
<td align="center">275</td>
<td align="center">165</td>
<td align="center">175</td>
<td align="center">160</td>
<td align="center"><strong>228.75</strong></td>
</tr>
<tr class="odd">
<td align="left">Phone</td>
<td align="center">245</td>
<td align="center">135</td>
<td align="center">145</td>
<td align="center">110</td>
<td align="center"><strong>166.25</strong></td>
</tr>
<tr class="even">
<td align="left">Overall Averages by Last Touch Channel</td>
<td align="center"><strong>276.67</strong></td>
<td align="center"><strong>203.33</strong></td>
<td align="center"><strong>200.00</strong></td>
<td align="center"><strong>210.00</strong></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>For this example, let’s assume the interaction effect of device type and last touch channel appears statistically significant.</p>
<div id="main-effect-interpretation" class="section level3">
<h3>Main Effect Interpretation</h3>
<p>Device type and, separately, last touch channel appear to have a main effect on number of goals completed. We note that laptop/desktop users are more likely to complete more goals compared to phone users. Similarly, customers who rely on organic search to reach our website are more likely to complete more goals compared to other points of last contact.</p>
</div>
<div id="interaction-effect-interpretation" class="section level3">
<h3>Interaction Effect Interpretation</h3>
<p>The difference for laptop/desktop users compared to tablet and phone users remains constant across the last touch channel until display is considered. The difference changes between device type at display. Hence, we can state that the relationship between device type and number of goals completed interacts with the last touch channel.</p>
<p>The interaction in this example is referred to as Ordinal Interaction because the order of the levels matters. Table 3 provides an example of no interaction.</p>
<div style="text-align: center">
<strong>Table 3: Mean Number of Goals Completed by Device Type and Last Touch Channel</strong>
</div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Organic Search</th>
<th align="center">Paid Search</th>
<th align="center">Email</th>
<th align="center">Display</th>
<th align="center">Overall Averages by<br>Device Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Laptop/Desktop</td>
<td align="center">325</td>
<td align="center">215</td>
<td align="center">225</td>
<td align="center">235</td>
<td align="center"><strong>250</strong></td>
</tr>
<tr class="even">
<td align="left">Tablet</td>
<td align="center">275</td>
<td align="center">165</td>
<td align="center">175</td>
<td align="center">185</td>
<td align="center"><strong>200</strong></td>
</tr>
<tr class="odd">
<td align="left">Phone</td>
<td align="center">245</td>
<td align="center">135</td>
<td align="center">145</td>
<td align="center">155</td>
<td align="center"><strong>170</strong></td>
</tr>
<tr class="even">
<td align="left">Overall Averages by Last Touch Channel</td>
<td align="center"><strong>281.67</strong></td>
<td align="center"><strong>171.67</strong></td>
<td align="center"><strong>181.67</strong></td>
<td align="center"><strong>191.67</strong></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>Table 3 shows no interaction. As we move down device type and across last touch channel, we see a monotonic transformation. That is, the pattern remains constant.</p>
<p>Table 4 highlights an example of disordinal interaction with non-crossover.</p>
<div style="text-align: center">
<strong>Table 4: Mean Number of Goals Completed by Device Type and Last Touch Channel</strong>
</div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Organic Search</th>
<th align="center">Paid Search</th>
<th align="center">Email</th>
<th align="center">Display</th>
<th align="center">Overall Averages by<br>Device Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Laptop/Desktop</td>
<td align="center">325</td>
<td align="center">215</td>
<td align="center">225</td>
<td align="center">235</td>
<td align="center"><strong>250</strong></td>
</tr>
<tr class="even">
<td align="left">Tablet</td>
<td align="center">275</td>
<td align="center">185</td>
<td align="center">170</td>
<td align="center">210</td>
<td align="center"><strong>210</strong></td>
</tr>
<tr class="odd">
<td align="left">Phone</td>
<td align="center">250</td>
<td align="center">170</td>
<td align="center">120</td>
<td align="center">160</td>
<td align="center"><strong>175</strong></td>
</tr>
<tr class="even">
<td align="left">Overall Averages by Last Touch Channel</td>
<td align="center"><strong>283.33</strong></td>
<td align="center"><strong>190.00</strong></td>
<td align="center"><strong>171.67</strong></td>
<td align="center"><strong>201.67</strong></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>As we move down device type and across last touch channel, we see the differences change. However, the cells never cross. That is, the number of goals completed for laptop/desktop never falls below tablet or phone regardless of last touch channel.</p>
<p>Finally, Table 5 provides an example of disordinal interaction with crossover.</p>
<div style="text-align: center">
<strong>Table 5: Mean Number of Goals Completed by Device Type and Last Touch Channel</strong>
</div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Organic Search</th>
<th align="center">Paid Search</th>
<th align="center">Email</th>
<th align="center">Display</th>
<th align="center">Overall Averages by<br>Device Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Laptop/Desktop</td>
<td align="center">325</td>
<td align="center">215</td>
<td align="center">200</td>
<td align="center">235</td>
<td align="center"><strong>243.75</strong></td>
</tr>
<tr class="even">
<td align="left">Tablet</td>
<td align="center">275</td>
<td align="center">185</td>
<td align="center">230</td>
<td align="center">175</td>
<td align="center"><strong>216.25</strong></td>
</tr>
<tr class="odd">
<td align="left">Phone</td>
<td align="center">250</td>
<td align="center">170</td>
<td align="center">120</td>
<td align="center">190</td>
<td align="center"><strong>182.50</strong></td>
</tr>
<tr class="even">
<td align="left">Overall Averages by Last Touch Channel</td>
<td align="center"><strong>283.33</strong></td>
<td align="center"><strong>190.00</strong></td>
<td align="center"><strong>183.33</strong></td>
<td align="center"><strong>200.00</strong></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>As we move down device type and across last touch channel, we see the differences change and the cells cross. That is, the number of goals completed for laptop/desktop falls below tablet at email and phone appears greater than tablet at display.</p>
<p>The type of interaction as discussed in Tables 2, 3, 4, and 5 give a completeness to the analysis. The interaction effect serves as the singular reason to perform this analysis.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
