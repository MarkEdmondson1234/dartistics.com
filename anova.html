<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>ANalysis Of VAriance (ANOVA)</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DARTISTICS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="example1.html">Example: Trending</a>
    </li>
    <li>
      <a href="example2.html">Example: Data Explorer</a>
    </li>
    <li>
      <a href="example3.html">Example: Venn Diagram</a>
    </li>
    <li>
      <a href="example4.html">Example: GA Effect</a>
    </li>
    <li>
      <a href="example5.html">Example: Heatmap</a>
    </li>
    <li>
      <a href="example6.html">Example: Forecasting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    The Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="whatisr.html">What Is R?</a>
    </li>
    <li>
      <a href="gettingstarted.html">Getting Started</a>
    </li>
    <li>
      <a href="packages.html">Packages</a>
    </li>
    <li>
      <a href="basics-base_r.html">Basics of Base R</a>
    </li>
    <li>
      <a href="exercise1-thebasics.html">Exercise: The Basic Basics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    I/O
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">WORKING WITH FILES</li>
    <li>
      <a href="import-csv-excel.html">CSV import</a>
    </li>
    <li>
      <a href="excel.html">Microsoft Excel(!)</a>
    </li>
    <li>
      <a href="exercise2-io.html">Exercise: I/O</a>
    </li>
    <li class="dropdown-header">WORKING WITH APIs</li>
    <li>
      <a href="api-google-analytics.html">Google Analytics</a>
    </li>
    <li>
      <a href="api-adobe-analytics.html">Adobe Analytics</a>
    </li>
    <li>
      <a href="api-other.html">Other APIs</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data Structures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">R CLASSES AND SYNTAX</li>
    <li>
      <a href="classes.html">R Classes</a>
    </li>
    <li>
      <a href="accessing.html">Accessing elements</a>
    </li>
    <li>
      <a href="exercise3-accessing-data.html">Exercise: Accessing Data</a>
    </li>
    <li class="dropdown-header">BASE R vs. TIDY</li>
    <li>
      <a href="tidyverse.html">Tidy data / Tidyverse</a>
    </li>
    <li>
      <a href="dplyr.html">dplyr()</a>
    </li>
    <li>
      <a href="exercise4-tidy-dplyr.html">Exercise: Tidy Data / dplyr</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="modelling-intro.html">Introduction</a>
    </li>
    <li>
      <a href="nature-of-data.html">Nature of Data</a>
    </li>
    <li>
      <a href="cross-tab-w-chi-square.html">Chi Square</a>
    </li>
    <li>
      <a href="correlation.html">Correlation</a>
    </li>
    <li>
      <a href="regression.html">Regression</a>
    </li>
    <li>
      <a href="timeseries.html">Time-series</a>
    </li>
    <li>
      <a href="categorisation.html">Categorisation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Output
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="viz-options.html">Visualisation Options</a>
    </li>
    <li>
      <a href="base-plots.html">Base Plots</a>
    </li>
    <li>
      <a href="ggplot2.html">ggplot2()</a>
    </li>
    <li>
      <a href="htmlwidgets.html">htmlwidgets()</a>
    </li>
    <li>
      <a href="rmarkdown-shiny.html">RMarkdown + Shiny</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resources.html">Useful Links</a>
    </li>
    <li>
      <a href="key-topics.html">Key topics</a>
    </li>
    <li>
      <a href="github.html">GitHub</a>
    </li>
    <li>
      <a href="habits.html">Good Habits</a>
    </li>
    <li>
      <a href="going-further.html">Going Further</a>
    </li>
    <li>
      <a href="r-and-statistics-class.html">3-Day Training</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N4DF7T"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N4DF7T');</script>
<!-- End Google Tag Manager -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">ANalysis Of VAriance (ANOVA)</h1>

</div>


<div id="a-brief-review" class="section level2">
<h2>A Brief Review</h2>
<p>Earlier, we covered the <a href="nature-of-data.html">nature of data</a> and <a href="cross-tab-w-chi-square.html">cross tabulations with a <span class="math inline">\(\chi\)</span><sup>2</sup> test for independence</a>. Nominal and ordinal data are referred to as nonmetric data.</p>
<p>Nonmetric data means that we cannot perform arithmetic operations such as addition, subtraction, multiplication, and division. Hence, we cannot calculate mean, standard deviation, skewness, and kurtosis.</p>
<p>To analyze nonmetric data, we need to use nonparametric analytical tools such as cross tabulations with a chi square test for independence for nominal data and Spearman’s Rank Rho for ordinal data.</p>
<p>Nonparametric is a fancy word that means we are not imposing a distribution on the data. Hence, nonparametric is sometimes referred to as distribution free.</p>
<p>Metric data means that we can perform arithmetic operations such as addition, subtraction, multiplication, and division. Hence, we can calculate mean, standard deviation, skewness, and kurtosis.</p>
<p>To analyze metric data, we should use parametric analytical tools such as ANOVA, correlation, and/or regression.</p>
<p>Parametric is a fancy word that means we are imposing a distribution on the data. Normal distributions, standard normal (i.e., bell curve), skewed distributions (e.g, skewed right, skewed left, tail heavy) are examples of imposed distributions.</p>
<p>Also, recall that with a cross tabulations with a chi square test for independence, we are testing an association of two variables and are relying on the frequency between those cells.</p>
<p>If we want to measure the differences in those levels, then we need to use ANOVA.</p>
<p>To apply ANOVA, we need two items. We need:</p>
<p>At least one independent variable that is nominal in nature and has at least two levels, and Only one dependent variable that must be internal or ratio in nature.</p>
</div>
<div id="way-anova" class="section level2">
<h2>1-Way ANOVA</h2>
<p>If we have one independent variable, then we apply a 1-way ANOVA. If we have two independent variables, then we can apply an n-way ANOVA. If we have collected observations of the dependent variable several times, then we apply the repeated measures ANOVA. Forms of 1-way ANOVA questions</p>
<p>Does the number of visits depend on device type? The device type serves as the independent variable and the number of visits serves as the dependent variable. Device type is nominal in nature because (a) order does not matter, (b) there is no distance between observations, and (c) it lacks a true zero.</p>
<p>The levels, in this example, include “laptop/desktop,” “mobile,” and “tablet.” Hence, the independent variable, device type, includes three levels.</p>
<table>
<tbody>
<tr class="odd">
<td><strong>A quick aside:</strong> <em>Up to this point, in our R journey, we’ve treated “factors” as something of a nuisance that, if not converted to character vectors, can cause odd and frustrating results. Read up more on that <a href="classes.html#factor">here</a>. But, hopefully as you get into the content here and beyond, you will start to see how factors – and how many levels a factor has – start to become important. Now – back to our 1-way ANOVA…</em></td>
</tr>
</tbody>
</table>
<p>The dependent variable – number of visits in this example – is ratio in nature because (a) order does matter, (b) there is distance between observations, and (c) it includes a true zero.</p>
<p>The hypothesis, in this example, would be that means (or averages) between levels equals zero. That is, there is no difference between levels.</p>
<p>In the cross tabulations with a chi square test for independence, the hypothesis was, “there is no relationship between the two variables.”</p>
<p>The ANOVA hypothesis is similar to the chi square test for independence hypothesis because both are about no relationships. The ANOVA hypothesis is dissimilar to the chi square test for independence hypothesis because the ANOVA includes an arithmetic value (i.e, the means are equal to zero). 1-Way ANOVA</p>
<p>A one way ANOVA with one independent variable and only two levels will generate the same results as an independent t test. Instead of looking at the t-test though, we will look at the F ratio.</p>
<p>Recall that I started with an expected value. I take an observation. The distance between the expected value and the observed value is called the error. The relevant and necessary question becomes, “Is this error attributable to laptop/desktop, mobile, and tablet (i.e., within the group) or to device type (i.e., between the group)?”</p>
<p>That is, “Is this error within the variables or between the variable?”</p>
<p>MSw or MSe is the mean square error within the variables. In this example, MSw or MSe refers to error within laptop/desktop, mobile, and tablet</p>
<p>MSb is the mean square error between the variables. In this example, MSb refers to error in the device type.</p>
<p>The F ratio is simply MSb / MSe.</p>
<p>MSb + MSe = total error</p>
<p>MSe or MSw = SSe or SSw / N-K where N-K is the degrees of freedom (or “d.f.”) for the within effect. SSe or SSw is the Sum of Squares error within. N is the number of groups and K is the number of levels.</p>
<p>Also, MSb = SSb / K-1 where K-1 is the d.f. for the between effect and SSb is the Sum of Square error between.</p>
<p>The relationship between SS and MS is the d.f.</p>
<p>N-K allows us to control for how many groups were are using.</p>
<p>Once we have our F ratio, then we can look up in a table.</p>
<p>You will need the d.f. for both MSb and MSe.</p>
<p>A 1-way ANOVA is appropriate if we want to segment on one variable such as device type or last point of contact.</p>
<p>Rejection Region (or why we need to think about alpha)</p>
<p>Let’s talk a bit more about Ho and alpha level. I like 5% or .05 for a two tail test. That means the rejection area will be .05/2 on the left and right of the mean.</p>
<p>I like a two tail test because I do not have to think about negative values. The probability of drawing a -2.5 is just as likely as drawing a 2.5.</p>
<p>If we reject the Ho because the observed value exceeds the critical or cutoff value, then we say the difference is the hypothesis. The means of the two distributions are not equal.</p>
<p>For a p value of less than .05, we reject if the t value exceeds 1.96.</p>
<p>The t value is referred to as the critical or cutoff value.</p>
<p>Example of 1-way ANOVA</p>
<p>Let’s consider three forms of channels, including: (1) desktop/laptop, (2) mobile, and (3) tablet. Also, let’s consider number of goal completions during a five-day period. Table 1 provides a display of the relationship.</p>
<p>Table 1: Number of goal completions by channel Desktop/Laptop Mobile Table 5 4 4 3 5 2 4 4 3 5 3 1 4 3 2</p>
<p>First, we calculate the mean for each channel. The averages for each channel is: Desktop/Laptop (mean 1) = 4.2 Mobile (mean 2) = 3.8 Table (mean 3) = 2.4</p>
<p>Second, we calculate the mean for all three channels combined, or the grand mean. The sum for the three channels is 52 and the mean is 3.47.</p>
<p>Third, we determine the sum of squares error (SSe) by squaring the difference between the observed value and the expected (mean) value (see Table 2).</p>
<p>Table 2: Squared error values Desktop/Laptop Mobile Table (5-4.2)<sup>2=.64 (4-3.8)</sup>2=.04 (4-2.4)<sup>2=2.56 (3-4.2)</sup>2=1.44 (5-3.8)<sup>2=1.44 (2-2.4)</sup>2=.16 (4-4.2)<sup>2=.04 (4-3.8)</sup>2=.04 (3-2.4)<sup>2=.36 (5-4.2)</sup>2=.64 (3-3.8)<sup>2=.64 (1-2.4)</sup>2=1.96 (4-4.2)<sup>2=.04 (3-3.8)</sup>2=.64 (2-2.4)^2=.16</p>
<p>The sum of each group errors is: Desktop/Laptop (group 1) = 2.8 Mobile (group 2) = 2.8 Table (group 3) = 5.2 The sum of square errors (SSe) is 10.8, or 2.8+2.8+5.2</p>
<p>Fourth, we determine the sum of squares between groups (SSb) by subtracting the group mean from the grand mean and squaring the difference before multiplying by the number of observations in each group. Finally, we sum the products.</p>
<p>Table 3: Squared group error values</p>
<p>A B C D E</p>
<p>Number of observations in each group Grand Mean Group Mean (B-C)^2 A*D Group 1 5 3.47 4.2 .53 2.65 Group 2 5 3.47 3.8 .11 .55 Group 3 5 3.47 2.4 1.14 5.70</p>
<p>By summing the three values from column E in Table 3, the sum of square errors between groups (SSb) is 8.90.</p>
<p>Fifth, we calculate the mean square errors (MSe) by dividing the SSe by the degrees of freedom. Recall, the degrees of freedom is the number of observations (N) less the number of groups or levels (K). In this example, the degrees of freedom is 12 (15-3). The MSe is .9 (SSe / df = 10.8 / 12).</p>
<p>Sixth, we determine the mean square between groups (MSb) by divide the sum square between groups (SSb) by the degrees of freedom. Here, degrees of freedom is determined by subtracting 1 from the number of groups or levels (K). In this example, the degrees of freedom is 2 (3-1). The MSb is 4.45 (SSE / df = 8.9 / 2).</p>
<p>Seventh, we determine the actual F value by dividing MSb by MSe. In this exmaple, the actual F value is 4.94 (MSb / MSe = 4.45/.9).</p>
<p>Eighth, we look up the critical F value. The numerator includes 2 degrees of freedom while the denominator includes 12 degrees of freedom. With a rejection region (alpha) of .05, we can look up in a F value table that the critical F value is 3.88.</p>
<p>Finally, we compare the actual F value (4.94) to the critical F value (3.88), to determine that we reject the null hypothesis that the means of the groups are equal. We conclude that the levels or groups are different. In this example, we could state the number of goal completions differs by channel.</p>
<p>Examples of N-way ANOVA questions</p>
<p>If we want to segment or otherwise consider two independent variables, then we need the N-way ANOVA. For example, we want to consider device type and last point of contact on the number of visitors.</p>
</div>
<div id="n-way-anova" class="section level2">
<h2>N-way ANOVA</h2>
<p>The N-way ANOVA allows the web analysts to consider two issues.</p>
<p>One, the web analyst can consider the interaction of two variables. That is, device type and last point of contact work together. If the interaction is statistically significant, then the web analyst should not interpret device type and last point of contact separately when using ANOVA.</p>
<p>To interpret the interaction effect, we argue for that as device type AND last point of contact change, the number of visits changes.</p>
<p>If the interaction effect is not statistically significant (i.e., fail to reject), then the web analyst should interpret separately the two independent variables (e.g., device type and last point of contact), which is pretty much two one-way ANOVA.</p>
<p>Two, even with the interaction effect, the web analyst should calculate eta square.</p>
<p>The eta square is found by dividing SSx or SSb divided by SSy.</p>
<p>0 means SSb or SSx has no effect on SSy.</p>
<p>1 means SSb or SSx explains all variance of SSy.</p>
<p>Usually, the eta square value falls between 0 and 1. It provides a method to determine the effect of SSb or SSx on SSy.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
